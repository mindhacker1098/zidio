(()=>{"use strict";let e={};function t(){var e;let t;e=function(e){document.documentElement.classList.add(!0===e?"webp":"no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}let s=!0,o=(e=500)=>{let t=document.querySelector("body");if(s){let o=document.querySelectorAll("[data-lp]");setTimeout(()=>{for(let e=0;e<o.length;e++){let s=o[e];s.style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")},e),s=!1,setTimeout(function(){s=!0},e)}},i=(e=500)=>{let t=document.querySelector("body");if(s){let o=document.querySelectorAll("[data-lp]");for(let i=0;i<o.length;i++){let n=o[i];n.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),s=!1,setTimeout(function(){s=!0},e)}};function n(e){setTimeout(()=>{window.FLS&&console.log(e)},0)}let l,a,r;class c{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",classes:{popup:"popup",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.popupLogging(`Проснулся`),this.eventsPopup()}eventsPopup(){document.addEventListener("click",(function(e){let t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t){e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",l=t.dataset.quantity,a=t.dataset.firstTitle,r=t.dataset.secondTitle,"error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open()):this.popupLogging(`Ой ой, не заполнен атрибут у ${t.classList}`);return}let s=e.target.closest(`[${this.options.attributeCloseButton}]`);if(s&&this.isOpen){e.preventDefault(),this.close();return}}).bind(this)),document.addEventListener("keydown",(function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen){e.preventDefault(),this.close();return}if(this.options.focusCatch&&9==e.which&&this.isOpen){this._focusCatch(e);return}}).bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",(function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}).bind(this)),window.addEventListener("load",(function(){window.location.hash&&this._openToHash()}).bind(this)))}open(e){if(s){if(this.bodyLock=!!document.documentElement.classList.contains("lock"),e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.youTubeCode){let t=this.youTubeCode,o=`https://www.youtube.com/embed/${t}?rel=0&showinfo=0&autoplay=1`,n=document.createElement("iframe");n.setAttribute("allowfullscreen","");let c=this.options.setAutoplayYoutube?"autoplay;":"";n.setAttribute("allow",`${c}; encrypted-media`),n.setAttribute("src",o),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(n)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}}));let p=document.querySelector(".popup__content"),h=document.querySelector(".popup__title"),u=p.querySelectorAll(".position-button");if(u.forEach(e=>{e.remove()}),l)for(let d=1;d<=l;d++){let f=`<a href="https://docs.google.com/forms/d/e/1FAIpQLSch7tmtv2d2A0xgcZEICHL3efOEgflAGl_Wi2B5giQMljI4KA/viewform?usp=sf_link" class="position-button">
							<div class="position-button__title">Position Open</div>
							<div class="position-button__link">Apply here</div>
							<img class="position-button__bg" src="../img/careers/team-bg.jpg" alt="">
							</a>`;p.insertAdjacentHTML("beforeend",f)}a&&(h.childNodes[0].textContent=a+" ",h.childNodes[1].textContent=r),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:this.bodyLock||i(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging(`Открыл попап`)}else this.popupLogging(`Ой ой, такого попапа нет.Проверьте корректность ввода. `)}}close(e){e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&s&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),this.bodyLock||o(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50),this.popupLogging(`Закрыл попап`))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null,t=document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`);t&&e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){let t=this.targetOpen.element.querySelectorAll(this._focusEl),s=Array.prototype.slice.call(t),o=s.indexOf(document.activeElement);e.shiftKey&&0===o&&(s[s.length-1].focus(),e.preventDefault()),e.shiftKey||o!==s.length-1||(s[0].focus(),e.preventDefault())}_focusTrap(){let e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&n(`[Попапос]: ${e}`)}}e.popup=new c({}),window.addEventListener("load",function(e){h()});let p=document.querySelectorAll(".slide-comm__button");function h(){if(document.querySelector(".comments__slider")){let e=new Swiper(".comments__slider",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,allowTouchMove:!0,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".swiper-pagination",type:"fraction",formatFractionCurrent:function(e){return e.toString().padStart(2,0)},formatFractionTotal:function(e){return e.toString().padStart(2,0)}},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},breakpoints:{960:{allowTouchMove:!1}},on:{init:function(){d(),p.forEach(function(t){t.addEventListener("click",function(){u(),e.updateAutoHeight(300)})})}}})}document.querySelector(".stories-slider")&&new Swiper(".stories-slider",{observer:!0,observeParents:!0,autoHeight:!1,speed:5e3,allowTouchMove:!0,keyboard:!0,pagination:!1,centeredSlides:!0,navigation:!1,slidesPerView:"auto",loop:!0,spaceBetween:24,freeMode:!0,autoplay:{delay:1,disableOnInteraction:!1},breakpoints:{320:{spaceBetween:16},720:{spaceBetween:24}}})}function u(){document.querySelectorAll(".slide-comm__text").forEach(function(e){e.classList.contains("opened-full-text")?(e.classList.remove("opened-full-text"),e.nextElementSibling.classList.remove("opened-full-text")):(e.classList.add("opened-full-text"),e.nextElementSibling.classList.add("opened-full-text"))})}function d(){if(document.getElementsByClassName("comments__slider")){let e=document.getElementsByClassName("comments__slide");for(let t=0;t<e.length;t++)e[t].querySelector(".slide-comm__text").classList.contains("needShowMore")?e[t].querySelector(".slide-comm__button").style.display="block":e[t].querySelector(".slide-comm__button").style.display="none"}}let f=!1;setTimeout(()=>{if(f){let e=new Event("windowScroll");window.addEventListener("scroll",function(t){document.dispatchEvent(e)})}},0);let g=document.querySelector("#preload-text-original");function y(e,t){if(document.getElementsByClassName(e))for(var s=0;s<document.getElementsByClassName(e).length;s++)document.getElementsByClassName(e)[s].insertAdjacentHTML("afterbegin",t)}g&&addEventListener("load",function(){let e=document.querySelector(".welcome__content"),t=new IntersectionObserver(s=>{s[0].isIntersecting?function e(){document.body.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock");let t=document.querySelector("#preload-text-position-holder"),s=t.getBoundingClientRect().top+"px",o=t.getBoundingClientRect().left+"px";setTimeout(function(){let e=document.getElementsByTagName("body")[0].clientWidth/2-t.getBoundingClientRect().width/2+"px";Object.assign(g.style,{left:e,"z-index":"999"});let i=[{left:o,top:s}],n={duration:300,iterations:1,fill:"forwards",easing:"ease-out"},l=[{opacity:0}],a={duration:1e3,iterations:1,fill:"forwards",easing:"ease-out"};setTimeout(function(){g.animate(i,n),document.querySelector(".preload-bg").animate(l,a)},1e3),setTimeout(function(){g.style.display="none",document.querySelector("#preload-text-position-holder").style.opacity="100%",document.querySelector(".preload-bg").style.display="none"},1300);let r=document.querySelectorAll(".media-block__animate-text");setTimeout(function(){r&&r.forEach(e=>{e.classList.add("animated")})},2300),setTimeout(function(){let e=document.querySelectorAll("._img-anim-hidden");e&&e.forEach(e=>{e.classList.add("animated")})},2300),setTimeout(function(){let e=document.querySelectorAll("._text-anim-origin");e&&e.forEach(e=>{e.style.opacity="100%"}),document.body.style.paddingRight="0px",document.documentElement.classList.remove("lock"),r.forEach(e=>{e.style.display="none"})},3600)},1e3)}():(t.unobserve(e),g.style.display="none",document.querySelector("#preload-text-position-holder").style.opacity="100%",document.querySelector(".preload-bg").style.display="none",document.querySelectorAll(".media-block__animate-text").forEach(e=>{e.style.display="none"}),document.querySelectorAll("._text-anim-origin").forEach(e=>{e.style.opacity="100%"}),document.querySelectorAll("._img-anim-hidden").forEach(e=>{e.style.opacity="100%"}))},{threshold:.5});t.observe(e)}),y("block-cross-in",'<span class="block-cross-in__left-crosses"></span><span class="block-cross-in__right-crosses"></span>'),y("block-cross-in-link",'<span class="block-cross-in-link__left-elements"></span><span class="block-cross-in-link__right-elements"></span>'),y("block-cross-out",'<span class="block-cross-out__left-crosses"></span> <span class="block-cross-out__right-crosses"></span>'),addEventListener("load",function(){new Rellax(".rellax")});let m={stringsElement:"#typed-strings",typeSpeed:40,startDelay:500,backDelay:2e3,loop:!0,backSpeed:15,smartBackspace:!0};document.querySelector(".typing-text__text")&&new Typed(".typing-text__text",m);let b=document.querySelector(".cascade-slider"),$=document.querySelectorAll(".cascade-slider__item"),v=$.length;document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".numbers-column");e&&e.forEach(e=>{for(var t=1;t<=50;t++)e.insertAdjacentHTML("beforeend",t+"<br>")})});let S,A;function O(){A=b.getBoundingClientRect().top+window.scrollY}function E(){S=b.getBoundingClientRect().height}function _(){let e=A+S,t=S/v;if(window.scrollY>A&&window.scrollY<e)for(let s=0;s<v;s++){let o=1-.04*(window.scrollY-A+56-t*s)/t,i=1-.2*(window.scrollY-A+56-t*s)/t,n=56-30*(window.scrollY-A+56-t*s)/t;o>1&&(o=1),$[s].style.transform=`scale(${o})`,$[s].style.opacity=i,$[s].style.top=n+"px"}else for(let l=0;l<v;l++)$[l].style.transform="scale(1)",$[l].style.opacity=1,$[l].style.top="56px"}b&&(addEventListener("load",e=>{O(),setTimeout(function(){E(),_()},200)}),addEventListener("resize",e=>{O(),setTimeout(function(){E()},200)}),addEventListener("scroll",e=>{_()})),window.FLS=!0,t()})();